<!DOCTYPE html>
<html lang="en-us">
  
  {% include head.html %}

  <body>
  	<style>
dgt41-alert{
    display:block;
    padding:.75rem 1.25rem;
    margin-bottom:1rem;
    border:1px solid transparent;
    border-radius:.25rem
}
	</style>
    {% include page-header.html %}

    <section class="main-content">
		<h1>Alerts demo</h1>
		<h2>Rendered alerts:</h2>
		<dgt41-alert data-type="info" data-button="true">
			<strong>Alert:</strong> text goes here
		</dgt41-alert>
		<dgt41-alert data-type="success" data-button="true">
			<strong>Alert:</strong> text goes here
		</dgt41-alert>
		<dgt41-alert data-type="warning">
			<strong>Alert:</strong> text goes here
		</dgt41-alert>
		<dgt41-alert data-type="danger" data-button="true">
			<strong>Alert:</strong> text goes here
		</dgt41-alert>
		<hr>
		<h2>Programmatically add a new alert:</h2>
		<p>Use the following script:</p>
		<pre>
			var tempElement = document.createElement('dgt41-alert');
			tempElement.setAttribute('data-type', 'success');
			tempElement.setAttribute('data-button', 'true');
			tempElement.innerHTML = 'Wow it works!';
			
			document.body.appendChild(tempElement);
		</pre>
		<hr>
		<h3>Live example</h3>
		<div id="insert-new-alert">
		</div>
		Run the command by clicking this button:
			<button role="button" id="insertNew" class="btn btn-success">Create An Alert</button>
		<hr>
		<h2>Programmatically change an alert or add remove the close button:</h2>
		<p>Use the following script:</p>
		<pre>
			var tempElement = document.querySelector('dgt41-alert');
			// This will set the alert to success
			tempElement.setAttribute('data-type', 'success');
			// This will create a close button
			tempElement.setAttribute('data-button', 'true');
		</pre>
		<hr>
		<h3>Live example</h3>
		<dgt41-alert id="change-me" data-type="info" data-button="true">
			<strong>Alert:</strong> text goes here
		</dgt41-alert>
		<hr>
		<div id="replaceble">
			<button role="button" class="btn btn-info" data-opt1="data-type" value="info">Make it info</button>
			<button role="button" class="btn btn-success" data-opt1="data-type" value="success">Make it success</button>
			<button role="button" class="btn btn-warning" data-opt1="data-type" value="warning">Make it warning</button>
			<button role="button" class="btn btn-danger" data-opt1="data-type" value="danger">Make it danger</button>
			<button role="button" class="btn btn-success" data-opt1="data-button" value="true">Add close button</button>
			<button role="button" class="btn btn-danger" data-opt1="data-button" value="false">Remove close button</button>
		</div>
		<hr>
		<h2>Programmatically close an alert:</h2>
		<p>Use the following script:</p>
		<pre>
			var tempElement = document.querySelector('dgt41-alert');
			// This will close the alert
			tempElement.close();
		</pre>
		<hr>
		<h3>Live example</h3>
		<dgt41-alert id="close-me-with-a-btn" data-type="danger" data-button="true">
			<strong>Alert:</strong> Close me with javascript
		</dgt41-alert>
		<hr>
		<div>
			<button role="button" id="i-will-close-that-alert" class="btn btn-info">Close the above alert</button>
		</div>

	<script>
	var addNew = function() {
		var tempElement = document.createElement('dgt41-alert');
		tempElement.setAttribute('data-type', 'success');
		tempElement.setAttribute('data-button', 'true');
		tempElement.innerHTML = 'Wow it works!';
		
		document.getElementById('insert-new-alert').appendChild(tempElement);
	}

	var changeAlert = function(dataAttr, type) {
		var tempElement = document.getElementById('change-me');
		if (dataAttr === 'data-type')
			tempElement.setAttribute('data-type', type);
		if (dataAttr === 'data-button')
			tempElement.setAttribute('data-button', type);
	}
	var addNewButton = document.getElementById('insertNew'),
		changeButtons = document.querySelectorAll('#replaceble > .btn');

	addNewButton.addEventListener('click', addNew);
	document.getElementById('change-me').addEventListener('close.bs.alert', function() { alert('Seeing is believing. Event "close.bs.alert" fired!') });
	document.getElementById('change-me').addEventListener('closed.bs.alert', function() { 
		document.getElementById('replaceble').innerHTML = '<h4>Oops the alert is destroyed. This change was initiated using the event "closed.bs.alert" (the popup used the event "close.bs.alert"</h4>';
	 });

	for (var i = 0, l = changeButtons.length; i < l; i++) {
			changeButtons[i].addEventListener('click', function(event) { changeAlert(event.target.getAttribute('data-opt1'), event.target.value) });
	}
	
	document.getElementById('i-will-close-that-alert').addEventListener('click', function(event) { var a = document.getElementById('close-me-with-a-btn'); 
	if (a) a.close(); event.target.setAttribute('disabled', true); event.target.removeEventListener('click', arguments.callee); });
	</script>

      {% include page-footer.html %}

    </section>

  </body>
</html>
